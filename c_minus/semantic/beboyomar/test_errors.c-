/* test_errors.c- 
 * A program with intentional semantic errors
 */

/* Global variable declarations */
int x;
int array[10];
void invalid_var; /* Error: void variable */

/* Function declarations */
int sum(int a, int b) {
    int result;
    result = a + b;
    return result;
}

/* Function with errors */
void badFunction(int a, void b) { /* Error: void parameter */
    int c;
    c = a + y; /* Error: undeclared variable 'y' */
    array = c; /* Error: array used as scalar */
    return c; /* Error: return with value in void function */
}

/* Main function with various semantic errors */
int main(void) {
    int a;
    int a; /* Error: variable redeclaration */
    int array[5]; /* Error: redefinition of global 'array' */
    
    /* Type errors */
    a = sum; /* Error: function used as value */
    
    /* Array errors */
    a[0] = 5; /* Error: indexing non-array */
    array[sum(1,2)] = 10; /* Error: non-constant array index (not actually an error in C-, but would be in stricter languages) */
    array[badFunction] = 20; /* Error: array index of wrong type */
    
    /* Function call errors */
    sum(1); /* Error: wrong number of arguments */
    sum(1, 2, 3); /* Error: wrong number of arguments */
    sum(array, 2); /* Error: wrong type of argument */
    
    /* Return missing */
    /* Error: missing return in non-void function */
} 